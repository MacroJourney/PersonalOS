# CLAUDE.md

PersonalOS v2.1 — 人机协作个人操作系统搭建指南。文档驱动型项目，无代码实现。

## 关键路径索引

| 目录 | 定位 | 说明 |
|-----|------|------|
| `docs/00_核心设计.md` | 架构权威来源 | 四区工作空间、三层 PDCA、AI 角色、复利机制 |
| `docs/01_快速开始.md` | 用户入口 | 10 分钟 / 30 分钟启动方案 |
| `docs/02_30天成长计划.md` | 成长路径 | Week 1-4 渐进式计划 |
| `docs/03_模板库.md` | 模板说明 | 9 个核心模板的用途和用法 |
| `docs/04_AI配置完整版.md` | AI 配置 | 三个 AI 角色的完整 System Prompt |
| `docs/05_FAQ与防坑.md` | 问题排查 | 常见问题 + 反模式 |
| `docs/06_在仓库中搭建系统.md` | 搭建指南 | 在仓库内创建工作空间 |
| `templates/` | 可复制模板 | `00_Core/*.template.md` 等 |
| `examples/` | 使用示例 | 配置、工作流、复盘示例 |
| `references/` | 历史参考 | 早期探索过程，**不代表当前架构** |

## 写作规范

修改任何文档时，遵守以下规范：

- **语言**：简体中文，用「你」不用「您」。对话输出也默认中文，除非用户明确要求英文
- **文件命名**：新建文档使用中文文件名（README.md 等通用约定除外），不要默认用英文名
- **语气**：亲切但专业，短句优先
- **列表符号**：用 `-` 不用 `*`
- **引号**：中文用「」，英文用 ""
- **强调**：`**粗体**` 用于关键术语，`` `行内代码` `` 用于文件路径和命令
- **路径引用**：始终使用相对路径，包含 `.md` 扩展名（如 `docs/00_核心设计.md`）
- **箭头**：用 `→` 表示因果或流程
- **数字**：阿拉伯数字 + 中文量词（如「3 个角色」「30 天」）
- **中英文间距**：中英文之间加空格（如「使用 Obsidian 管理」）
- **标题层级**：`#` 仅用于文档标题，正文从 `##` 开始
- **表格**：列头加粗用 `**`，表格内避免过长内容

## 术语一致性

以下术语以 `docs/00_核心设计.md` 为准，全仓库保持一致：

| 正确用法 | 不要写成 |
|---------|---------|
| 四区工作空间 | 四个文件夹、四个目录 |
| 三层 PDCA | 三个循环、PDCA 系统 |
| 战略层 / 项目层 / 能力层 | 第一层/第二层/第三层 |
| 复利机制 | 积累系统、沉淀机制 |
| 数字合伙人 | AI 助手、AI 工具 |
| Strategy Coach | 战略教练（可用「战略顾问」做中文解释） |
| Project Manager | 项目经理 |
| Skill Analyzer | 技能分析师（可用「能力分析师」做中文解释） |
| Active / Simmering / Sleeping | 进行中/暂缓/休眠（可做括号注释） |
| 规则库 / 技能库 / 记忆系统 | 知识库（太笼统） |
| v2.1 | V2.1、2.1（版本号带小写 v 前缀） |

## 审查标准

修改文档后，提交前逐项检查：

- [ ] 术语与 `docs/00_核心设计.md` 一致（参照上方术语表）
- [ ] 路径引用使用相对路径，包含 `.md` 扩展名
- [ ] Markdown 格式符合写作规范（列表符号、引号、强调方式）
- [ ] 表格对齐，内部链接可用
- [ ] 不引入与核心设计矛盾的概念或说法
- [ ] 差距分析时独立思考缺失内容，不将缺失合理化为「已分散到其他部分」
- [ ] 无错别字，中英文间距正确

## Commit 规范

基于 `CONTRIBUTING.md`，使用中文语义化提交：

```
前缀: 中文描述

# 前缀类型
docs:      文档修改
feat:      新功能
fix:       Bug 修复
refactor:  重构
style:     格式调整
chore:     其他修改
```

示例：`docs: 改写 01 快速开始，补充 SSH 配置说明`

## 文档修改原则

- **权威来源**：`docs/00_核心设计.md` 是架构设计的唯一权威来源
- **历史参考**：`references/` 仅为早期探索记录，不代表当前架构
- **一致性优先**：修改任何文档后，检查是否需要同步更新相关文档
- **不重复**：各文档有明确分工，避免在多处重复相同内容
- **不做主观假设**：不要对系统架构做猜测（如模块用途、Vault 划分、工具限制）。不确定时先问用户，不要自行推测后合理化

### 权限边界

| 区域 | AI 可读 | AI 可写 | 备注 |
|-----|---------|---------|------|
| `00_Core/` | 随时 | 需确认 | 可更新 `memory/recent_rolling.md` |
| `01_Shared/` | 全部 | 部分需确认 | `Calendar/Days/`、`Atlas/Dots/` 可自由添加 |
| `02_Human/` | 需授权 | 不可 | AI 主动不进入，需明确授权 |
| `03_AI/` | 全部 | 完全自主 | AI 完全管理，人可观察 |

## 工作方式

- **增量迭代**：一次只做一个明确的修改步骤，确认后再继续。不要试图一次性完成所有工作
- **先计划后执行**：涉及多文件操作时，先列出计划（文件路径、修改类型、预期效果），等用户确认后再动手
- **新建文件先确认**：创建文件前，先与用户确认文件名和存放路径，不要默认放在项目根目录
- **尊重已有决定**：用户之前已做过的决定（如选择了某种方案），直接执行，不要重新分析或要求重新选择

## AI 交互原则

**规则一：不要轻易说"做不到"**
1. 先查本地（记忆库 → 规则库 → 技能库）
2. 再查公开（搜索方案 → GitHub → 教程）
3. 仍不行 → 提出替代方案（降级目标）
4. 穷尽后再报告不可行，并记录到规则库

**规则二：有强主观能动性**
- 主动探索、主动检查、主动复盘、主动留痕
- 每次任务产出可复用资产（Rules、Skills、Templates）

**核心理念**：AI 是合作伙伴，不是工具。AI 拥有独立工作区（`03_AI/`），有记忆系统，有明确角色分工。
