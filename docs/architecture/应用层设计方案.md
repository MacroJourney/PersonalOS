# PersonalOS åº”ç”¨å±‚è®¾è®¡æ–¹æ¡ˆ

> **ç‰ˆæœ¬**ï¼šv1.0  
> **åˆ›å»ºæ—¥æœŸ**ï¼š2026-02-04  
> **æ–‡æ¡£ç±»å‹**ï¼šæ¶æ„è®¾è®¡æ–‡æ¡£  
> **çŠ¶æ€**ï¼šè§„åˆ’ä¸­

---

## æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£å®šä¹‰ PersonalOS åº”ç”¨å±‚çš„æ¶æ„è®¾è®¡ï¼Œæ˜ç¡®åº”ç”¨å±‚ä¸æ–‡ä»¶ç³»ç»Ÿçš„è¾¹ç•Œï¼Œä»¥åŠæ ¸å¿ƒåŠŸèƒ½æ¨¡å—çš„è®¾è®¡ã€‚

**æ ¸å¿ƒåŸåˆ™**ï¼š
- æ•°æ®ä¸»æƒåœ¨ç”¨æˆ·æ‰‹ä¸­ï¼ˆæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼‰
- åº”ç”¨æ˜¯å¢å¼ºå±‚ï¼Œä¸æ˜¯æ›¿ä»£å±‚
- ç”¨æˆ·å¯ä»¥éšæ—¶"é™çº§"åˆ°çº¯æ–‡ä»¶ä½¿ç”¨
- å¼€æ”¾ã€å¯æ‰©å±•ã€ä¸ç»‘æ¶ç”¨æˆ·

---

## ä¸€ã€æ•´ä½“æ¶æ„

### 1.1 åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å±•ç¤ºå±‚ï¼ˆPresentationï¼‰                 â”‚
â”‚  - Web å‰ç«¯ / æ¡Œé¢å®¢æˆ·ç«¯ / ç§»åŠ¨ç«¯                         â”‚
â”‚  - ç”¨æˆ·äº¤äº’ç•Œé¢                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBusiness Logicï¼‰           â”‚
â”‚  - AI ç¼–æ’æœåŠ¡                                           â”‚
â”‚  - æ•°æ®åˆ†ææœåŠ¡                                          â”‚
â”‚  - è‡ªåŠ¨åŒ–æœåŠ¡                                            â”‚
â”‚  - é…ç½®ç®¡ç†æœåŠ¡                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®è®¿é—®å±‚ï¼ˆData Accessï¼‰              â”‚
â”‚  - æ–‡ä»¶ç³»ç»Ÿé€‚é…å™¨                                        â”‚
â”‚  - ç´¢å¼•ç¼“å­˜ï¼ˆSQLiteï¼‰                                    â”‚
â”‚  - å¤–éƒ¨ API é›†æˆï¼ˆClaude API ç­‰ï¼‰                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å±‚ï¼ˆDataï¼‰                         â”‚
â”‚  - æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼ˆ00_Core/ã€01_Shared/ ç­‰ï¼‰               â”‚
â”‚  - ç”¨æˆ·å®Œå…¨æ§åˆ¶                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒè®¾è®¡åŸåˆ™

| åŸåˆ™ | è¯´æ˜ | å®ç°æ–¹å¼ |
|-----|------|---------|
| **æ•°æ®ä¸»æƒ** | ç”¨æˆ·æ•°æ®åœ¨æœ¬åœ°ï¼Œåº”ç”¨å´©æºƒä¸å½±å“æ•°æ® | æ‰€æœ‰æ•°æ®å­˜å‚¨ä¸º Markdown æ–‡ä»¶ |
| **æ¸è¿›å¢å¼º** | ä»çº¯æ–‡ä»¶åˆ°åº”ç”¨å¢å¼ºï¼Œæ¯å±‚å¯é€‰ | æ–‡ä»¶ç³»ç»Ÿç‹¬ç«‹å¯ç”¨ï¼Œåº”ç”¨åªæ˜¯å¢å¼º |
| **å¼€æ”¾æ€§** | ä¸ç»‘æ¶ç”¨æˆ·ï¼Œéšæ—¶å¯ä»¥ç¦»å¼€ | å¼€æ”¾æ–‡ä»¶æ ¼å¼ã€APIã€æ’ä»¶ç³»ç»Ÿ |
| **é€æ˜æ€§** | åº”ç”¨åšäº†ä»€ä¹ˆï¼Œç”¨æˆ·æ¸…æ¥šå¯è§ | æ‰€æœ‰ AI è¾“å‡ºå†™å…¥æ–‡ä»¶ï¼Œå¯å®¡æŸ¥ |

---

## äºŒã€æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 2.1 AI ç¼–æ’æœåŠ¡ï¼ˆAIOrchestratorï¼‰

**èŒè´£**ï¼šè‡ªåŠ¨åŒ– AI ä¸‰èº«ä»½çš„è§¦å‘ã€ä¸Šä¸‹æ–‡ç»„è£…ã€ç»“æœå†™å…¥

#### åŠŸèƒ½æ¸…å•

| åŠŸèƒ½ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|-----|------|-------|
| å®šæ—¶ä»»åŠ¡è°ƒåº¦ | æ¯å‘¨äº”å‘¨æŠ¥ã€æ¯æœˆæˆ˜ç•¥å¤ç›˜ã€æ¯æ™šèƒ½åŠ›æ²‰æ·€ | P0 |
| æ™ºèƒ½ä¸Šä¸‹æ–‡ç»„è£… | æ ¹æ®ä»»åŠ¡ç±»å‹è‡ªåŠ¨é€‰æ‹©ç›¸å…³æ–‡ä»¶ | P0 |
| AI å¯¹è¯ç®¡ç† | ç®¡ç†ä¸ Claude API çš„äº¤äº’ | P0 |
| ç»“æœè‡ªåŠ¨å†™å…¥ | AI è¾“å‡ºè‡ªåŠ¨å†™å…¥æŒ‡å®šæ–‡ä»¶ | P0 |
| æ‰‹åŠ¨è§¦å‘ | ç”¨æˆ·å¯ä»¥éšæ—¶æ‰‹åŠ¨è§¦å‘ä»»æ„ AI èº«ä»½ | P1 |
| å¯¹è¯å†å² | ä¿å­˜é‡è¦çš„ AI å¯¹è¯è®°å½• | P1 |

#### æŠ€æœ¯è®¾è®¡

```typescript
// AI ç¼–æ’æœåŠ¡æ¥å£
interface AIOrchestrator {
  // å®šæ—¶ä»»åŠ¡
  scheduleJobs(): void;
  
  // æ‰‹åŠ¨è§¦å‘
  runStrategyCoach(context?: Context): Promise<Result>;
  runProjectManager(context?: Context): Promise<Result>;
  runSkillAnalyzer(context?: Context): Promise<Result>;
  
  // ä¸Šä¸‹æ–‡ç»„è£…
  buildContext(config: ContextConfig): Promise<Context>;
  
  // ç»“æœå¤„ç†
  writeResult(result: Result, target: string): Promise<void>;
}
```


#### å®šæ—¶ä»»åŠ¡é…ç½®

```typescript
// å®šæ—¶ä»»åŠ¡é…ç½®
const SCHEDULE_CONFIG = {
  // æ¯å‘¨äº” 17:00 - é¡¹ç›®ç»ç†å‘¨æŠ¥
  weeklyReview: {
    cron: '0 17 * * 5',
    ai: 'ProjectManager',
    context: ['profile', 'recentMemory', 'thisWeekDays', 'activeProjects'],
    output: '01_Shared/Calendar/Reviews/Weekly/{YYYY-WXX}.md'
  },
  
  // æ¯æœˆ 1-3 æ—¥ 09:00 - æˆ˜ç•¥é¡¾é—®æœˆåº¦å¤ç›˜
  monthlyReview: {
    cron: '0 9 1-3 * *',
    ai: 'StrategyCoach',
    context: ['profile', 'northStar', 'quarterlyGoals', 'lastMonthData'],
    output: '01_Shared/Strategy/reviews/{YYYY-MM}-review.md',
    notification: true  // éœ€è¦ç”¨æˆ·ç¡®è®¤
  },
  
  // æ¯æ™š 22:00 - èƒ½åŠ›åˆ†æå¸ˆæ—¥åº¦æ²‰æ·€
  dailyReflection: {
    cron: '0 22 * * *',
    ai: 'SkillAnalyzer',
    context: ['profile', 'todayNote', 'recentDots'],
    output: 'append_to_today',  // è¿½åŠ åˆ°ä»Šæ—¥ç¬”è®°
    autoRun: false  // é»˜è®¤ä¸è‡ªåŠ¨è¿è¡Œï¼Œéœ€è¦ç”¨æˆ·å¼€å¯
  }
};
```

#### ä¸Šä¸‹æ–‡ç»„è£…ç­–ç•¥

```typescript
// ä¸Šä¸‹æ–‡é…ç½®
interface ContextConfig {
  profile?: boolean;           // æ˜¯å¦åŒ…å«ä¸ªäººæ¡£æ¡ˆ
  recentMemory?: boolean;      // æ˜¯å¦åŒ…å«è¿‘æœŸè®°å¿†
  longTermMemory?: boolean;    // æ˜¯å¦åŒ…å«é•¿æœŸè®°å¿†
  rules?: string[];            // éœ€è¦çš„è§„åˆ™åˆ—è¡¨
  skills?: string[];           // éœ€è¦çš„æŠ€èƒ½åˆ—è¡¨
  files?: string[];            // å…·ä½“æ–‡ä»¶è·¯å¾„
  dateRange?: {                // æ—¶é—´èŒƒå›´
    start: Date;
    end: Date;
    folder: string;            // ä¾‹å¦‚ 'Calendar/Days'
  };
  maxTokens?: number;          // ä¸Šä¸‹æ–‡æœ€å¤§ token æ•°
}
```

---

### 2.2 æ•°æ®åˆ†ææœåŠ¡ï¼ˆAnalyticsServiceï¼‰

**èŒè´£**ï¼šç»Ÿè®¡åˆ†æã€è¶‹åŠ¿é¢„æµ‹ã€æ™ºèƒ½æ´å¯Ÿç”Ÿæˆ

#### åŠŸèƒ½æ¸…å•

| åŠŸèƒ½ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|-----|------|-------|
| ä»ªè¡¨ç›˜æ•°æ®ç”Ÿæˆ | æˆ˜ç•¥å±‚ã€é¡¹ç›®å±‚ã€èƒ½åŠ›å±‚çš„å…³é”®æŒ‡æ ‡ | P0 |
| è¶‹åŠ¿åˆ†æ | å‘¨åº¦/æœˆåº¦/å­£åº¦è¶‹åŠ¿ | P0 |
| å¯¹é½åº¦æ£€æŸ¥ | è¡ŒåŠ¨ä¸ç›®æ ‡çš„å¯¹é½åº¦åˆ†æ | P0 |
| æ™ºèƒ½æ´å¯Ÿ | è‡ªåŠ¨å‘ç°é—®é¢˜ã€æœºä¼šã€å»ºè®® | P1 |
| æ—¶é—´åˆ†æ | æ—¶é—´åˆ†é…ã€æ•ˆèƒ½åˆ†æ | P1 |
| çŸ¥è¯†å›¾è°±åˆ†æ | Dots å…³è”åº¦ã€MOC è¦†ç›–ç‡ | P2 |


#### ä»ªè¡¨ç›˜æ•°æ®ç»“æ„

```typescript
interface DashboardData {
  // æˆ˜ç•¥å±‚æŒ‡æ ‡
  strategy: {
    northStar: string;                    // åŒ—ææ˜ŸæŒ‡æ ‡
    quarterlyGoals: Goal[];               // å­£åº¦ç›®æ ‡
    quarterlyProgress: number;            // å­£åº¦è¿›åº¦ (0-100)
    alignment: {                          // å¯¹é½åº¦åˆ†æ
      score: number;                      // å¯¹é½åº¦è¯„åˆ†
      gaps: string[];                     // å·®è·åˆ—è¡¨
      suggestions: string[];              // æ”¹è¿›å»ºè®®
    };
  };
  
  // é¡¹ç›®å±‚æŒ‡æ ‡
  projects: {
    active: number;                       // æ´»è·ƒé¡¹ç›®æ•°
    simmering: number;                    // é…é…¿é¡¹ç›®æ•°
    sleeping: number;                     // ä¼‘çœ é¡¹ç›®æ•°
    completionRate: number;               // å®Œæˆç‡
    avgCycleTime: number;                 // å¹³å‡å‘¨æœŸï¼ˆå¤©ï¼‰
    timeAllocation: {                     // æ—¶é—´åˆ†é…
      project: string;
      hours: number;
      percentage: number;
    }[];
    riskProjects: {                       // é£é™©é¡¹ç›®
      project: string;
      reason: string;
      daysStalled: number;
    }[];
  };
  
  // èƒ½åŠ›å±‚æŒ‡æ ‡
  knowledge: {
    totalDots: number;                    // æ€»ç¬”è®°æ•°
    newDotsThisWeek: number;              // æœ¬å‘¨æ–°å¢
    totalMOCs: number;                    // MOC æ•°é‡
    mocCoverage: number;                  // MOC è¦†ç›–ç‡
    orphanDots: number;                   // å­¤ç«‹ç¬”è®°æ•°
    topTags: { tag: string; count: number }[];
    knowledgeGrowth: {                    // çŸ¥è¯†å¢é•¿æ›²çº¿
      date: string;
      count: number;
    }[];
  };
  
  // è¶‹åŠ¿åˆ†æ
  trends: {
    weeklyProductivity: number[];         // å‘¨ç”Ÿäº§åŠ›è¶‹åŠ¿
    focusAreas: string[];                 // å½“å‰èšç„¦é¢†åŸŸ
    energyPattern: {                      // ç²¾åŠ›æ¨¡å¼
      hour: number;
      energy: number;
    }[];
  };
}
```

#### æ™ºèƒ½æ´å¯Ÿç®—æ³•

```typescript
interface Insight {
  type: 'warning' | 'opportunity' | 'suggestion';
  priority: 'high' | 'medium' | 'low';
  title: string;
  description: string;
  action?: string;
  relatedFiles?: string[];
}

// æ´å¯Ÿç”Ÿæˆç¤ºä¾‹
async generateInsights(): Promise<Insight[]> {
  const insights: Insight[] = [];
  
  // æ£€æŸ¥åœæ»é¡¹ç›®
  const stalledProjects = await this.findStalledProjects(14); // 14å¤©æ— è¿›å±•
  if (stalledProjects.length > 0) {
    insights.push({
      type: 'warning',
      priority: 'high',
      title: `${stalledProjects.length} ä¸ªé¡¹ç›®å·²åœæ»è¶…è¿‡ 2 å‘¨`,
      description: stalledProjects.map(p => p.name).join('ã€'),
      action: 'å»ºè®®ç§»åˆ° Simmering æˆ–æ˜ç¡®ä¸‹ä¸€æ­¥è¡ŒåŠ¨'
    });
  }
  
  // æ£€æŸ¥å¯¹é½åº¦
  const alignment = await this.checkAlignment();
  if (alignment.score < 0.6) {
    insights.push({
      type: 'warning',
      priority: 'high',
      title: 'è¡ŒåŠ¨ä¸å­£åº¦ç›®æ ‡å¯¹é½åº¦è¾ƒä½',
      description: `å½“å‰å¯¹é½åº¦ ${(alignment.score * 100).toFixed(0)}%`,
      action: 'å»ºè®®é‡æ–°å®¡è§†é¡¹ç›®ä¼˜å…ˆçº§'
    });
  }
  
  // å‘ç°çŸ¥è¯†å…³è”æœºä¼š
  const orphanDots = await this.findOrphanDots();
  if (orphanDots.length > 5) {
    insights.push({
      type: 'opportunity',
      priority: 'medium',
      title: `${orphanDots.length} ä¸ªç¬”è®°å¯ä»¥å»ºç«‹å…³è”`,
      description: 'è¿™äº›ç¬”è®°å°šæœªè¢«ä»»ä½• MOC å¼•ç”¨',
      action: 'å»ºè®®åˆ›å»ºæˆ–å…³è”åˆ°ç›¸å…³ MOC'
    });
  }
  
  return insights;
}
```


---

### 2.3 æ–‡ä»¶ç›‘å¬æœåŠ¡ï¼ˆFileWatcherï¼‰

**èŒè´£**ï¼šç›‘å¬æ–‡ä»¶å˜åŒ–ã€è§¦å‘è‡ªåŠ¨åŒ–ã€æä¾›æ™ºèƒ½å»ºè®®

#### åŠŸèƒ½æ¸…å•

| åŠŸèƒ½ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|-----|------|-------|
| æ–‡ä»¶å˜åŒ–ç›‘å¬ | ç›‘å¬å››åŒºæ–‡ä»¶çš„åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ | P0 |
| Inbox å½’æ¡£æé†’ | Inbox æ–‡ä»¶è¶…è¿‡ 3 å¤©æé†’å½’æ¡£ | P1 |
| MOC å…³è”å»ºè®® | æ–° Dot åˆ›å»ºæ—¶å»ºè®®å…³è” MOC | P1 |
| è®°å¿†å‹ç¼©æé†’ | è¿‘æœŸè®°å¿†è¶…è¿‡é˜ˆå€¼æé†’å‹ç¼© | P1 |
| ç›¸å…³ç¬”è®°æ¨è | ç¼–è¾‘ç¬”è®°æ—¶æ¨èç›¸å…³å†…å®¹ | P2 |
| è‡ªåŠ¨æ ‡ç­¾å»ºè®® | æ ¹æ®å†…å®¹å»ºè®®æ ‡ç­¾ | P2 |

#### æŠ€æœ¯è®¾è®¡

```typescript
interface FileWatcher {
  // å¯åŠ¨ç›‘å¬
  watch(folders: string[]): void;
  
  // åœæ­¢ç›‘å¬
  stop(): void;
  
  // æ³¨å†Œå¤„ç†å™¨
  on(event: FileEvent, handler: EventHandler): void;
}

// æ–‡ä»¶äº‹ä»¶ç±»å‹
type FileEvent = 
  | 'file:created'
  | 'file:modified'
  | 'file:deleted'
  | 'file:renamed';

// äº‹ä»¶å¤„ç†å™¨
interface EventHandler {
  (file: FileInfo): Promise<void>;
}
```

#### è‡ªåŠ¨åŒ–è§„åˆ™ç¤ºä¾‹

```typescript
// Inbox å½’æ¡£æé†’
fileWatcher.on('file:created', async (file) => {
  if (file.path.startsWith('01_Shared/+/')) {
    // 3 å¤©åæ£€æŸ¥
    setTimeout(async () => {
      if (await fileExists(file.path)) {
        notify({
          type: 'reminder',
          title: 'Inbox æ–‡ä»¶å¾…å½’æ¡£',
          message: `${file.name} å·²åœ¨ Inbox 3 å¤©`,
          actions: [
            { label: 'å½’æ¡£åˆ° Atlas', action: 'archive:atlas' },
            { label: 'ç§»åˆ°é¡¹ç›®', action: 'archive:project' },
            { label: 'ç¨åæé†’', action: 'snooze' }
          ]
        });
      }
    }, 3 * 24 * 60 * 60 * 1000);
  }
});

// MOC å…³è”å»ºè®®
fileWatcher.on('file:created', async (file) => {
  if (file.path.startsWith('01_Shared/Atlas/Dots/')) {
    const content = await readFile(file.path);
    const relatedMOCs = await findRelatedMOCs(content);
    
    if (relatedMOCs.length > 0) {
      notify({
        type: 'suggestion',
        title: 'å‘ç°ç›¸å…³ MOC',
        message: `${file.name} å¯èƒ½å±äºä»¥ä¸‹ä¸»é¢˜ï¼š`,
        options: relatedMOCs.map(moc => ({
          label: moc.name,
          action: () => addToMOC(file.path, moc.path)
        }))
      });
    }
  }
});

// è®°å¿†å‹ç¼©æé†’
fileWatcher.on('file:modified', async (file) => {
  if (file.path === '00_Core/memory/recent_rolling.md') {
    const lineCount = await getLineCount(file.path);
    if (lineCount > 50) {
      notify({
        type: 'reminder',
        title: 'è¿‘æœŸè®°å¿†éœ€è¦å‹ç¼©',
        message: `å½“å‰ ${lineCount} è¡Œï¼Œå»ºè®®å‹ç¼©åˆ°é•¿æœŸè®°å¿†`,
        actions: [
          { label: 'è‡ªåŠ¨å‹ç¼©', action: 'compress:auto' },
          { label: 'æ‰‹åŠ¨æ•´ç†', action: 'compress:manual' }
        ]
      });
    }
  }
});
```


---

### 2.4 é…ç½®ç®¡ç†æœåŠ¡ï¼ˆConfigManagerï¼‰

**èŒè´£**ï¼šå¯è§†åŒ–é…ç½®ç¼–è¾‘ã€éªŒè¯ã€æ ¼å¼è½¬æ¢

#### åŠŸèƒ½æ¸…å•

| åŠŸèƒ½ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|-----|------|-------|
| å¯è§†åŒ–é…ç½®ç¼–è¾‘ | è¡¨å•åŒ–ç¼–è¾‘ profile.mdã€rules.md ç­‰ | P0 |
| é…ç½®éªŒè¯ | æ ¼å¼ã€å¿…å¡«é¡¹ã€é€»è¾‘æ ¡éªŒ | P0 |
| æ¨¡æ¿ç®¡ç† | ç®¡ç†å„ç±»ç¬”è®°æ¨¡æ¿ | P1 |
| é…ç½®å¯¼å…¥å¯¼å‡º | å¤‡ä»½ã€è¿ç§»é…ç½® | P1 |
| é…ç½®ç‰ˆæœ¬ç®¡ç† | é…ç½®å†å²ã€å›æ»š | P2 |

#### é…ç½®ç¼–è¾‘ç•Œé¢è®¾è®¡

```typescript
// Profile ç¼–è¾‘å™¨
interface ProfileEditor {
  sections: {
    basic: {
      name: string;
      role: string;
      location: string;
    };
    values: {
      core: string[];
      principles: string[];
    };
    thinking: {
      style: string;
      strengths: string[];
      weaknesses: string[];
    };
    workStyle: {
      rhythm: 'morning' | 'night' | 'flexible';
      focusTime: string;
      breakPattern: string;
    };
    goals: {
      northStar: string;
      currentFocus: string[];
    };
  };
}

// éªŒè¯è§„åˆ™
const VALIDATION_RULES = {
  profile: {
    'basic.name': { required: true, maxLength: 50 },
    'values.core': { required: true, minItems: 3, maxItems: 5 },
    'goals.northStar': { required: true, maxLength: 200 }
  },
  rules: {
    'rules.*.title': { required: true },
    'rules.*.condition': { required: true },
    'rules.*.action': { required: true }
  }
};
```

#### æ ¼å¼è½¬æ¢

```typescript
// UI æ•°æ® â†’ Markdown
function toMarkdown(data: ProfileEditor): string {
  return `# ä¸ªäººæ¡£æ¡ˆ

## åŸºæœ¬ä¿¡æ¯
- å§“åï¼š${data.sections.basic.name}
- è§’è‰²ï¼š${data.sections.basic.role}
- ä½ç½®ï¼š${data.sections.basic.location}

## æ ¸å¿ƒä»·å€¼è§‚
${data.sections.values.core.map(v => `- ${v}`).join('\n')}

## æ€ç»´æ–¹å¼
**é£æ ¼**ï¼š${data.sections.thinking.style}

**ä¼˜åŠ¿**ï¼š
${data.sections.thinking.strengths.map(s => `- ${s}`).join('\n')}

...
`;
}

// Markdown â†’ UI æ•°æ®
function fromMarkdown(markdown: string): ProfileEditor {
  // è§£æ Markdown ä¸ºç»“æ„åŒ–æ•°æ®
  // ä½¿ç”¨æ­£åˆ™æˆ– Markdown AST è§£æ
}
```

---

### 2.5 æ™ºèƒ½æœç´¢æœåŠ¡ï¼ˆSemanticSearchï¼‰

**èŒè´£**ï¼šè¯­ä¹‰æœç´¢ã€è‡ªåŠ¨é“¾æ¥å»ºè®®ã€çŸ¥è¯†å‘ç°

#### åŠŸèƒ½æ¸…å•

| åŠŸèƒ½ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|-----|------|-------|
| å…¨æ–‡æœç´¢ | åŸºç¡€çš„å…³é”®è¯æœç´¢ | P0 |
| è¯­ä¹‰æœç´¢ | åŸºäº Embedding çš„è¯­ä¹‰æœç´¢ | P1 |
| è‡ªåŠ¨é“¾æ¥å»ºè®® | è¯†åˆ«å¯ä»¥å»ºç«‹é“¾æ¥çš„å†…å®¹ | P1 |
| ç›¸ä¼¼ç¬”è®°æ¨è | æ‰¾åˆ°ç›¸ä¼¼çš„ç¬”è®° | P1 |
| çŸ¥è¯†å›¾è°±å¯è§†åŒ– | å¯è§†åŒ–ç¬”è®°å…³ç³» | P2 |


#### æŠ€æœ¯è®¾è®¡

```typescript
interface SemanticSearch {
  // å…¨æ–‡æœç´¢
  search(query: string, options?: SearchOptions): Promise<SearchResult[]>;
  
  // è¯­ä¹‰æœç´¢
  semanticSearch(query: string, topK?: number): Promise<SearchResult[]>;
  
  // æŸ¥æ‰¾ç›¸ä¼¼ç¬”è®°
  findSimilar(filePath: string, topK?: number): Promise<SearchResult[]>;
  
  // è‡ªåŠ¨é“¾æ¥å»ºè®®
  suggestLinks(filePath: string): Promise<LinkSuggestion[]>;
  
  // æ„å»ºçŸ¥è¯†å›¾è°±
  buildGraph(options?: GraphOptions): Promise<KnowledgeGraph>;
}

interface SearchResult {
  path: string;
  title: string;
  snippet: string;
  relevance: number;
  highlights: string[];
}

interface LinkSuggestion {
  text: string;              // å¯ä»¥é“¾æ¥çš„æ–‡æœ¬
  targetPath: string;        // ç›®æ ‡æ–‡ä»¶è·¯å¾„
  targetTitle: string;       // ç›®æ ‡æ–‡ä»¶æ ‡é¢˜
  confidence: number;        // ç½®ä¿¡åº¦ (0-1)
  context: string;           // ä¸Šä¸‹æ–‡
}
```

#### Embedding ç­–ç•¥

```typescript
// Embedding ç”Ÿæˆ
async function generateEmbedding(text: string): Promise<number[]> {
  // ä½¿ç”¨ OpenAI Embedding API æˆ–æœ¬åœ°æ¨¡å‹
  const response = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: text
  });
  return response.data[0].embedding;
}

// å‘é‡å­˜å‚¨ï¼ˆä½¿ç”¨ SQLite + VSS æ‰©å±•ï¼‰
interface VectorStore {
  // æ·»åŠ æ–‡æ¡£
  add(doc: { id: string; text: string; embedding: number[] }): Promise<void>;
  
  // å‘é‡æœç´¢
  search(embedding: number[], topK: number): Promise<SearchResult[]>;
  
  // æ›´æ–°æ–‡æ¡£
  update(id: string, doc: Partial<Document>): Promise<void>;
  
  // åˆ é™¤æ–‡æ¡£
  delete(id: string): Promise<void>;
}
```

---

## ä¸‰ã€æ•°æ®è®¿é—®å±‚è®¾è®¡

### 3.1 æ–‡ä»¶ç³»ç»Ÿé€‚é…å™¨ï¼ˆFileSystemAdapterï¼‰

**èŒè´£**ï¼šç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®æ¥å£

```typescript
interface FileSystemAdapter {
  // è¯»å–æ–‡ä»¶
  readFile(path: string): Promise<string>;
  
  // å†™å…¥æ–‡ä»¶
  writeFile(path: string, content: string): Promise<void>;
  
  // è¿½åŠ å†…å®¹
  appendFile(path: string, content: string): Promise<void>;
  
  // åˆ—å‡ºç›®å½•
  listDir(path: string, recursive?: boolean): Promise<FileInfo[]>;
  
  // æ–‡ä»¶æ˜¯å¦å­˜åœ¨
  exists(path: string): Promise<boolean>;
  
  // è§£æ Front Matter
  parseFrontMatter(path: string): Promise<{ data: any; content: string }>;
  
  // æ›´æ–° Front Matter
  updateFrontMatter(path: string, data: any): Promise<void>;
  
  // æœç´¢æ–‡ä»¶
  searchFiles(pattern: string): Promise<string[]>;
}

interface FileInfo {
  path: string;
  name: string;
  isDirectory: boolean;
  size: number;
  created: Date;
  modified: Date;
}
```


### 3.2 ç´¢å¼•ç¼“å­˜ï¼ˆIndexCacheï¼‰

**èŒè´£**ï¼šåŠ é€ŸæŸ¥è¯¢ã€å­˜å‚¨ Embeddingã€ç¼“å­˜å…ƒæ•°æ®

```typescript
// ä½¿ç”¨ SQLite å­˜å‚¨ç´¢å¼•
interface IndexCache {
  // æ–‡ä»¶ç´¢å¼•è¡¨
  files: {
    id: string;              // æ–‡ä»¶è·¯å¾„çš„ hash
    path: string;            // æ–‡ä»¶è·¯å¾„
    title: string;           // æ–‡ä»¶æ ‡é¢˜
    tags: string[];          // æ ‡ç­¾
    created: Date;           // åˆ›å»ºæ—¶é—´
    modified: Date;          // ä¿®æ”¹æ—¶é—´
    wordCount: number;       // å­—æ•°
    lastIndexed: Date;       // æœ€åç´¢å¼•æ—¶é—´
  };
  
  // Embedding è¡¨
  embeddings: {
    fileId: string;          // å…³è”æ–‡ä»¶
    embedding: number[];     // å‘é‡
    chunkIndex: number;      // åˆ†å—ç´¢å¼•ï¼ˆé•¿æ–‡æ¡£åˆ†å—ï¼‰
  };
  
  // é“¾æ¥å…³ç³»è¡¨
  links: {
    sourceId: string;        // æºæ–‡ä»¶
    targetId: string;        // ç›®æ ‡æ–‡ä»¶
    linkType: 'wikilink' | 'markdown' | 'tag';
    context: string;         // é“¾æ¥ä¸Šä¸‹æ–‡
  };
  
  // æ ‡ç­¾è¡¨
  tags: {
    name: string;
    count: number;
    files: string[];
  };
}

// ç´¢å¼•æ›´æ–°ç­–ç•¥
class IndexUpdater {
  // å¢é‡æ›´æ–°
  async updateIndex(changedFiles: string[]) {
    for (const file of changedFiles) {
      const content = await fs.readFile(file);
      const metadata = await this.extractMetadata(content);
      const embedding = await this.generateEmbedding(content);
      
      await db.upsert('files', {
        id: hash(file),
        path: file,
        ...metadata,
        lastIndexed: new Date()
      });
      
      await db.upsert('embeddings', {
        fileId: hash(file),
        embedding
      });
    }
  }
  
  // å…¨é‡é‡å»ºï¼ˆé¦–æ¬¡æˆ–æŸåæ—¶ï¼‰
  async rebuildIndex() {
    await db.clear();
    const allFiles = await fs.listAllMarkdownFiles();
    await this.updateIndex(allFiles);
  }
}
```

### 3.3 å¤–éƒ¨ API é›†æˆ

**èŒè´£**ï¼šä¸ Claude APIã€å…¶ä»–æœåŠ¡çš„é›†æˆ

```typescript
// Claude API å°è£…
class ClaudeClient {
  async chat(
    systemPrompt: string,
    userMessage: string,
    context?: string[],
    options?: ChatOptions
  ): Promise<string> {
    const messages = [
      {
        role: 'user',
        content: this.buildPrompt(userMessage, context)
      }
    ];
    
    const response = await anthropic.messages.create({
      model: 'claude-3-5-sonnet-20241022',
      max_tokens: options?.maxTokens || 4096,
      system: systemPrompt,
      messages
    });
    
    return response.content[0].text;
  }
  
  // æµå¼å“åº”
  async *chatStream(
    systemPrompt: string,
    userMessage: string,
    context?: string[]
  ): AsyncGenerator<string> {
    const stream = await anthropic.messages.stream({
      model: 'claude-3-5-sonnet-20241022',
      max_tokens: 4096,
      system: systemPrompt,
      messages: [{ role: 'user', content: userMessage }]
    });
    
    for await (const chunk of stream) {
      if (chunk.type === 'content_block_delta') {
        yield chunk.delta.text;
      }
    }
  }
}
```


---

## å››ã€å±•ç¤ºå±‚è®¾è®¡

### 4.1 æ ¸å¿ƒç•Œé¢

#### ä»ªè¡¨ç›˜ï¼ˆDashboardï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PersonalOS Dashboard                    [è®¾ç½®] [å¸®åŠ©]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â­ åŒ—ææ˜Ÿï¼š[ç”¨æˆ·çš„é•¿æœŸç›®æ ‡]                              â”‚
â”‚  ğŸ“… å½“å‰å­£åº¦ï¼š2026 Q1                                    â”‚
â”‚  ğŸ“Š å­£åº¦è¿›åº¦ï¼šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 75%                             â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ æˆ˜ç•¥å±‚        â”‚  ğŸ“‹ é¡¹ç›®å±‚        â”‚  ğŸ“š èƒ½åŠ›å±‚         â”‚
â”‚                  â”‚                  â”‚                   â”‚
â”‚  å­£åº¦ç›®æ ‡ 3/3    â”‚  æ´»è·ƒé¡¹ç›® 5      â”‚  æ€»ç¬”è®° 234       â”‚
â”‚  å¯¹é½åº¦ 85%      â”‚  æœ¬å‘¨å®Œæˆ 2      â”‚  æœ¬å‘¨æ–°å¢ 8       â”‚
â”‚  ä¸‹æ¬¡å¤ç›˜ 3å¤©å  â”‚  é£é™©é¡¹ç›® 1      â”‚  MOC è¦†ç›– 78%     â”‚
â”‚                  â”‚                  â”‚                   â”‚
â”‚  [æŸ¥çœ‹è¯¦æƒ…]      â”‚  [æŸ¥çœ‹è¯¦æƒ…]      â”‚  [æŸ¥çœ‹è¯¦æƒ…]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                          â”‚
â”‚  ğŸ’¡ æ™ºèƒ½æ´å¯Ÿ                                             â”‚
â”‚  âš ï¸ é¡¹ç›®ã€ŒXXã€å·²åœæ» 14 å¤©ï¼Œå»ºè®®ç§»åˆ° Simmering          â”‚
â”‚  âœ¨ å‘ç° 5 ä¸ªç¬”è®°å¯ä»¥å…³è”åˆ°ã€ŒYYã€MOC                     â”‚
â”‚  ğŸ“ˆ æœ¬å‘¨ç”Ÿäº§åŠ›æ¯”ä¸Šå‘¨æå‡ 15%                             â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AI å¯¹è¯ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI åŠ©æ‰‹                          [Strategy Coach â–¼]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  [å¯¹è¯å†å²]                                              â”‚
â”‚                                                          â”‚
â”‚  ä½ ï¼šå¸®æˆ‘åˆ†æä¸€ä¸‹æœ¬æœˆçš„è¿›å±•                               â”‚
â”‚                                                          â”‚
â”‚  Strategy Coachï¼š                                        â”‚
â”‚  æ ¹æ®ä½ çš„æœ¬æœˆæ•°æ®ï¼Œæˆ‘å‘ç°ä»¥ä¸‹å‡ ç‚¹ï¼š                       â”‚
â”‚  1. ä½ åœ¨ã€Œé¡¹ç›®Aã€ä¸ŠæŠ•å…¥äº† 40% çš„æ—¶é—´ï¼Œä½†å®ƒä¸åœ¨å­£åº¦ç›®æ ‡ä¸­  â”‚
â”‚  2. å­£åº¦ç›®æ ‡ã€ŒBã€æœ¬æœˆè¿›å±•ä¸º 0                            â”‚
â”‚  3. å»ºè®®...                                              â”‚
â”‚                                                          â”‚
â”‚  [ç›¸å…³æ–‡ä»¶]                                              â”‚
â”‚  â€¢ 01_Shared/Strategy/quarterly/2026-Q1.md              â”‚
â”‚  â€¢ 01_Shared/Calendar/Reviews/Monthly/2026-01.md       â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [è¾“å…¥æ¶ˆæ¯...]                              [å‘é€] [ğŸ“]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### çŸ¥è¯†å›¾è°±ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çŸ¥è¯†å›¾è°±                         [å¸ƒå±€â–¼] [è¿‡æ»¤â–¼] [æœç´¢] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚              â”‚  MOC A  â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                â”‚
â”‚                   â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚         â”‚         â”‚         â”‚                          â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”                       â”‚
â”‚    â”‚ Dot 1  â”‚ â”‚ Dot 2â”‚ â”‚ Dot 3â”‚                       â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜                       â”‚
â”‚                            â”‚                            â”‚
â”‚                       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                       â”‚
â”‚                       â”‚  MOC B  â”‚                       â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                          â”‚
â”‚  [é€‰ä¸­èŠ‚ç‚¹]                                              â”‚
â”‚  ğŸ“„ Dot 2: åœºæ™¯åŒ–æ¡ˆä¾‹åŸåˆ™                                â”‚
â”‚  ğŸ·ï¸ æ ‡ç­¾: #å†™ä½œ #è¯´æœåŠ›                                 â”‚
â”‚  ğŸ”— é“¾æ¥: 3 ä¸ª MOC, 5 ä¸ª Dot                            â”‚
â”‚  ğŸ“… åˆ›å»º: 2026-01-15                                    â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


### 4.2 æŠ€æœ¯æ ˆå»ºè®®

#### æ¡Œé¢åº”ç”¨ï¼ˆæ¨èï¼‰

```
æ¡†æ¶ï¼šTauri 2.0
- ä¼˜åŠ¿ï¼šè½»é‡ï¼ˆ~3MBï¼‰ã€åŸç”Ÿæ€§èƒ½ã€ç›´æ¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿ
- å‰ç«¯ï¼šReact + TypeScript + TailwindCSS
- çŠ¶æ€ç®¡ç†ï¼šZustand
- æ•°æ®æŸ¥è¯¢ï¼šTanStack Query
- å›¾è¡¨ï¼šRecharts / D3.js
- ç¼–è¾‘å™¨ï¼šMonaco Editorï¼ˆä»£ç ï¼‰/ Lexicalï¼ˆå¯Œæ–‡æœ¬ï¼‰
```

#### Web åº”ç”¨ï¼ˆå¯é€‰ï¼‰

```
æ¡†æ¶ï¼šNext.js 14 (App Router)
- å‰ç«¯ï¼šReact + TypeScript + TailwindCSS
- APIï¼štRPCï¼ˆç±»å‹å®‰å…¨çš„ APIï¼‰
- æ•°æ®åº“ï¼šSQLiteï¼ˆé€šè¿‡æœ¬åœ° Agentï¼‰
- è®¤è¯ï¼šNextAuth.js
- éƒ¨ç½²ï¼šVercel / è‡ªæ‰˜ç®¡

æ³¨æ„ï¼šWeb åº”ç”¨éœ€è¦æœ¬åœ° Agent ä»£ç†æ–‡ä»¶ç³»ç»Ÿè®¿é—®
```

#### ç§»åŠ¨ç«¯ï¼ˆè¿œæœŸï¼‰

```
æ¡†æ¶ï¼šReact Native / Flutter
- åŠŸèƒ½ï¼šæŸ¥çœ‹ä»ªè¡¨ç›˜ã€AI å¯¹è¯ã€å¿«é€Ÿæ•è·
- é™åˆ¶ï¼šä¸æ”¯æŒå®Œæ•´çš„æ–‡ä»¶ç¼–è¾‘
```

---

## äº”ã€æŠ€æœ¯å®ç°ç»†èŠ‚

### 5.1 æ–‡ä»¶ç›‘å¬å®ç°

```typescript
// ä½¿ç”¨ chokidar ç›‘å¬æ–‡ä»¶å˜åŒ–
import chokidar from 'chokidar';

class FileWatcherImpl implements FileWatcher {
  private watcher: chokidar.FSWatcher;
  private handlers: Map<FileEvent, EventHandler[]> = new Map();
  
  watch(folders: string[]) {
    this.watcher = chokidar.watch(folders, {
      ignored: /(^|[\/\\])\../, // å¿½ç•¥éšè—æ–‡ä»¶
      persistent: true,
      ignoreInitial: true
    });
    
    this.watcher
      .on('add', path => this.emit('file:created', path))
      .on('change', path => this.emit('file:modified', path))
      .on('unlink', path => this.emit('file:deleted', path));
  }
  
  on(event: FileEvent, handler: EventHandler) {
    if (!this.handlers.has(event)) {
      this.handlers.set(event, []);
    }
    this.handlers.get(event)!.push(handler);
  }
  
  private async emit(event: FileEvent, path: string) {
    const handlers = this.handlers.get(event) || [];
    const fileInfo = await this.getFileInfo(path);
    
    for (const handler of handlers) {
      try {
        await handler(fileInfo);
      } catch (error) {
        console.error(`Handler error for ${event}:`, error);
      }
    }
  }
}
```

### 5.2 å®šæ—¶ä»»åŠ¡å®ç°

```typescript
// ä½¿ç”¨ node-cron
import cron from 'node-cron';

class SchedulerImpl {
  private jobs: Map<string, cron.ScheduledTask> = new Map();
  
  schedule(name: string, cronExpr: string, task: () => Promise<void>) {
    const job = cron.schedule(cronExpr, async () => {
      console.log(`Running scheduled task: ${name}`);
      try {
        await task();
      } catch (error) {
        console.error(`Task ${name} failed:`, error);
        this.notifyError(name, error);
      }
    });
    
    this.jobs.set(name, job);
  }
  
  start(name: string) {
    this.jobs.get(name)?.start();
  }
  
  stop(name: string) {
    this.jobs.get(name)?.stop();
  }
  
  stopAll() {
    this.jobs.forEach(job => job.stop());
  }
}
```


### 5.3 Markdown è§£æ

```typescript
// ä½¿ç”¨ unified ç”Ÿæ€
import { unified } from 'unified';
import remarkParse from 'remark-parse';
import remarkFrontmatter from 'remark-frontmatter';
import remarkGfm from 'remark-gfm';
import remarkWikiLink from 'remark-wiki-link';
import { visit } from 'unist-util-visit';
import yaml from 'yaml';

class MarkdownParser {
  async parse(content: string) {
    const processor = unified()
      .use(remarkParse)
      .use(remarkFrontmatter, ['yaml'])
      .use(remarkGfm)
      .use(remarkWikiLink);
    
    const ast = processor.parse(content);
    
    return {
      frontMatter: this.extractFrontMatter(ast),
      links: this.extractLinks(ast),
      headings: this.extractHeadings(ast),
      tags: this.extractTags(content),
      wordCount: this.countWords(content)
    };
  }
  
  private extractFrontMatter(ast: any) {
    let frontMatter = {};
    visit(ast, 'yaml', (node: any) => {
      frontMatter = yaml.parse(node.value);
    });
    return frontMatter;
  }
  
  private extractLinks(ast: any) {
    const links: Array<{ type: string; target: string; text: string }> = [];
    
    // Wiki links [[target]]
    visit(ast, 'wikiLink', (node: any) => {
      links.push({
        type: 'wikilink',
        target: node.value,
        text: node.data.alias || node.value
      });
    });
    
    // Markdown links [text](url)
    visit(ast, 'link', (node: any) => {
      links.push({
        type: 'markdown',
        target: node.url,
        text: node.children[0]?.value || ''
      });
    });
    
    return links;
  }
  
  private extractTags(content: string): string[] {
    const tagRegex = /#[\w\u4e00-\u9fa5]+/g;
    const matches = content.match(tagRegex) || [];
    return [...new Set(matches)];
  }
}
```

### 5.4 å‘é‡æœç´¢å®ç°

```typescript
// ä½¿ç”¨ SQLite VSS æ‰©å±•
import Database from 'better-sqlite3';
import { loadVSS } from 'sqlite-vss';

class VectorStoreImpl implements VectorStore {
  private db: Database.Database;
  
  constructor(dbPath: string) {
    this.db = new Database(dbPath);
    loadVSS(this.db);
    this.initTables();
  }
  
  private initTables() {
    this.db.exec(`
      CREATE VIRTUAL TABLE IF NOT EXISTS vss_embeddings USING vss0(
        embedding(1536)  -- OpenAI embedding ç»´åº¦
      );
      
      CREATE TABLE IF NOT EXISTS documents (
        id TEXT PRIMARY KEY,
        path TEXT NOT NULL,
        title TEXT,
        content TEXT,
        created_at DATETIME DEFAULT CURRENT_TIMESTAMP
      );
    `);
  }
  
  async add(doc: { id: string; text: string; embedding: number[] }) {
    // æ’å…¥æ–‡æ¡£
    this.db.prepare(`
      INSERT OR REPLACE INTO documents (id, path, content)
      VALUES (?, ?, ?)
    `).run(doc.id, doc.id, doc.text);
    
    // æ’å…¥å‘é‡
    this.db.prepare(`
      INSERT INTO vss_embeddings (rowid, embedding)
      VALUES (?, ?)
    `).run(doc.id, JSON.stringify(doc.embedding));
  }
  
  async search(embedding: number[], topK: number = 10): Promise<SearchResult[]> {
    const results = this.db.prepare(`
      SELECT 
        d.id,
        d.path,
        d.title,
        d.content,
        v.distance
      FROM vss_embeddings v
      JOIN documents d ON v.rowid = d.id
      WHERE vss_search(v.embedding, ?)
      ORDER BY v.distance
      LIMIT ?
    `).all(JSON.stringify(embedding), topK);
    
    return results.map(r => ({
      path: r.path,
      title: r.title,
      snippet: this.extractSnippet(r.content),
      relevance: 1 - r.distance,
      highlights: []
    }));
  }
}
```


---

## å…­ã€å¼€å‘è·¯çº¿å›¾

### 6.1 MVPï¼ˆæœ€å°å¯è¡Œäº§å“ï¼‰- v0.1

**ç›®æ ‡**ï¼šéªŒè¯æ ¸å¿ƒæ¦‚å¿µï¼Œæä¾›åŸºç¡€è‡ªåŠ¨åŒ–

**åŠŸèƒ½èŒƒå›´**ï¼š
- âœ… æ–‡ä»¶ç³»ç»Ÿè¯»å†™
- âœ… AI ç¼–æ’æœåŠ¡ï¼ˆä¸‰èº«ä»½ï¼‰
- âœ… å®šæ—¶ä»»åŠ¡ï¼ˆå‘¨æŠ¥ã€æœˆæŠ¥ï¼‰
- âœ… åŸºç¡€ä»ªè¡¨ç›˜
- âœ… é…ç½®ç®¡ç†ç•Œé¢

**æŠ€æœ¯é€‰å‹**ï¼š
- Tauri + React + TypeScript
- SQLiteï¼ˆç´¢å¼•ç¼“å­˜ï¼‰
- Claude API

**å¼€å‘å‘¨æœŸ**ï¼š2-3 ä¸ªæœˆ

---

### 6.2 Beta ç‰ˆæœ¬ - v0.5

**ç›®æ ‡**ï¼šå®Œå–„æ ¸å¿ƒåŠŸèƒ½ï¼Œæå‡ç”¨æˆ·ä½“éªŒ

**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… æ–‡ä»¶ç›‘å¬ä¸è‡ªåŠ¨åŒ–
- âœ… æ•°æ®åˆ†æä¸è¶‹åŠ¿é¢„æµ‹
- âœ… æ™ºèƒ½æ´å¯Ÿç”Ÿæˆ
- âœ… å…¨æ–‡æœç´¢
- âœ… çŸ¥è¯†å›¾è°±å¯è§†åŒ–ï¼ˆåŸºç¡€ç‰ˆï¼‰

**ä¼˜åŒ–**ï¼š
- æ€§èƒ½ä¼˜åŒ–ï¼ˆå¤§æ–‡ä»¶å¤„ç†ï¼‰
- UI/UX æ”¹è¿›
- é”™è¯¯å¤„ç†ä¸æ—¥å¿—

**å¼€å‘å‘¨æœŸ**ï¼š2-3 ä¸ªæœˆ

---

### 6.3 æ­£å¼ç‰ˆæœ¬ - v1.0

**ç›®æ ‡**ï¼šåŠŸèƒ½å®Œæ•´ï¼Œç¨³å®šå¯é 

**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… è¯­ä¹‰æœç´¢ï¼ˆEmbeddingï¼‰
- âœ… è‡ªåŠ¨é“¾æ¥å»ºè®®
- âœ… é…ç½®å¯¼å…¥å¯¼å‡º
- âœ… æ’ä»¶ç³»ç»Ÿï¼ˆåŸºç¡€ï¼‰
- âœ… å¤šè®¾å¤‡åŒæ­¥ï¼ˆå¯é€‰ï¼‰

**å®Œå–„**ï¼š
- å®Œæ•´çš„æ–‡æ¡£å’Œæ•™ç¨‹
- å•å…ƒæµ‹è¯•è¦†ç›–
- æ€§èƒ½åŸºå‡†æµ‹è¯•
- å®‰å…¨å®¡è®¡

**å¼€å‘å‘¨æœŸ**ï¼š3-4 ä¸ªæœˆ

---

### 6.4 æœªæ¥è§„åˆ’ - v2.0+

**å¯èƒ½çš„æ–¹å‘**ï¼š
- ğŸ”® ç§»åŠ¨ç«¯åº”ç”¨
- ğŸ”® Web ç‰ˆæœ¬
- ğŸ”® å›¢é˜Ÿåä½œåŠŸèƒ½
- ğŸ”® æ›´å¤š AI æ¨¡å‹æ”¯æŒ
- ğŸ”® é«˜çº§æ’ä»¶ç³»ç»Ÿ
- ğŸ”® AI Agent å¸‚åœº

---

## ä¸ƒã€å…³é”®è®¾è®¡å†³ç­–

### 7.1 ä¸ºä»€ä¹ˆé€‰æ‹© Tauri è€Œä¸æ˜¯ Electronï¼Ÿ

| å¯¹æ¯”é¡¹ | Tauri | Electron |
|-------|-------|----------|
| åŒ…å¤§å° | ~3MB | ~50MB+ |
| å†…å­˜å ç”¨ | ~50MB | ~200MB+ |
| å¯åŠ¨é€Ÿåº¦ | å¿« | æ…¢ |
| æ–‡ä»¶ç³»ç»Ÿè®¿é—® | åŸç”Ÿ | éœ€è¦ Node.js |
| å®‰å…¨æ€§ | æ›´å¥½ï¼ˆRustï¼‰ | ä¸€èˆ¬ |
| ç”Ÿæ€ | è¾ƒæ–° | æˆç†Ÿ |

**ç»“è®º**ï¼šTauri æ›´é€‚åˆ PersonalOS çš„éœ€æ±‚ï¼ˆè½»é‡ã€å¿«é€Ÿã€åŸç”Ÿæ–‡ä»¶è®¿é—®ï¼‰

---

### 7.2 ä¸ºä»€ä¹ˆä½¿ç”¨ SQLite è€Œä¸æ˜¯çº¯æ–‡ä»¶ï¼Ÿ

**SQLite çš„ç”¨é€”**ï¼š
- âœ… ç´¢å¼•ç¼“å­˜ï¼ˆåŠ é€Ÿæœç´¢ï¼‰
- âœ… Embedding å­˜å‚¨ï¼ˆå‘é‡æœç´¢ï¼‰
- âœ… å…ƒæ•°æ®ç¼“å­˜ï¼ˆé¿å…é‡å¤è§£æï¼‰

**ä¸ç”¨äº**ï¼š
- âŒ ç”¨æˆ·æ•°æ®å­˜å‚¨ï¼ˆä»ç„¶æ˜¯ Markdown æ–‡ä»¶ï¼‰
- âŒ é…ç½®å­˜å‚¨ï¼ˆä»ç„¶æ˜¯æ–‡ä»¶ï¼‰

**åŸåˆ™**ï¼šSQLite å¯ä»¥éšæ—¶åˆ é™¤é‡å»ºï¼Œä¸å½±å“ç”¨æˆ·æ•°æ®

---

### 7.3 ä¸ºä»€ä¹ˆä¸åš Web ç‰ˆæœ¬ï¼ˆåˆæœŸï¼‰ï¼Ÿ

**Web ç‰ˆæœ¬çš„æŒ‘æˆ˜**ï¼š
- æ–‡ä»¶ç³»ç»Ÿè®¿é—®å—é™ï¼ˆéœ€è¦ç”¨æˆ·æˆæƒï¼‰
- éœ€è¦æœ¬åœ° Agent ä»£ç†
- éƒ¨ç½²å’Œç»´æŠ¤æˆæœ¬é«˜
- ç”¨æˆ·æ•°æ®å®‰å…¨é—®é¢˜

**æ¡Œé¢åº”ç”¨çš„ä¼˜åŠ¿**ï¼š
- ç›´æ¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿ
- æ›´å¥½çš„æ€§èƒ½
- ç¦»çº¿å¯ç”¨
- ç”¨æˆ·æ•°æ®å®Œå…¨æœ¬åœ°

**ç»“è®º**ï¼šå…ˆåšæ¡Œé¢ç‰ˆï¼ŒéªŒè¯äº§å“ä»·å€¼åå†è€ƒè™‘ Web ç‰ˆ

---

## å…«ã€å®‰å…¨ä¸éšç§

### 8.1 æ•°æ®å®‰å…¨åŸåˆ™

```
1. æ•°æ®æœ¬åœ°ä¼˜å…ˆ
   - æ‰€æœ‰ç”¨æˆ·æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°
   - åº”ç”¨ä¸ä¸Šä¼ ç”¨æˆ·æ•°æ®åˆ°æœåŠ¡å™¨
   - AI å¯¹è¯é€šè¿‡ API ç›´æ¥è°ƒç”¨ï¼ˆä¸ç»è¿‡æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼‰

2. æœ€å°æƒé™åŸåˆ™
   - åº”ç”¨åªè®¿é—®ç”¨æˆ·æŒ‡å®šçš„ç›®å½•
   - ä¸è®¿é—®ç³»ç»Ÿå…¶ä»–æ–‡ä»¶
   - ä¸æ”¶é›†ç”¨æˆ·è¡Œä¸ºæ•°æ®

3. é€æ˜æ€§
   - æ‰€æœ‰ AI äº¤äº’è®°å½•å¯æŸ¥çœ‹
   - æ‰€æœ‰è‡ªåŠ¨åŒ–æ“ä½œæœ‰æ—¥å¿—
   - ç”¨æˆ·å¯ä»¥éšæ—¶å¯¼å‡º/åˆ é™¤æ•°æ®

4. å¯å®¡è®¡æ€§
   - å¼€æºä»£ç ï¼ˆè®¡åˆ’ï¼‰
   - å¯éªŒè¯çš„æ„å»ºè¿‡ç¨‹
   - å®‰å…¨å®¡è®¡æŠ¥å‘Š
```

### 8.2 API Key ç®¡ç†

```typescript
// API Key å­˜å‚¨ç­–ç•¥
class SecureStorage {
  // ä½¿ç”¨ç³»ç»Ÿ Keychainï¼ˆmacOSï¼‰æˆ– Credential Managerï¼ˆWindowsï¼‰
  async setAPIKey(service: string, key: string) {
    await keytar.setPassword('PersonalOS', service, key);
  }
  
  async getAPIKey(service: string): Promise<string | null> {
    return await keytar.getPassword('PersonalOS', service);
  }
  
  async deleteAPIKey(service: string) {
    await keytar.deletePassword('PersonalOS', service);
  }
}

// ä¸åœ¨é…ç½®æ–‡ä»¶ä¸­æ˜æ–‡å­˜å‚¨ API Key
// ä¸åœ¨æ—¥å¿—ä¸­è®°å½• API Key
// ä¸åœ¨é”™è¯¯ä¿¡æ¯ä¸­æš´éœ² API Key
```


---

## ä¹ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 9.1 æ–‡ä»¶è¯»å–ä¼˜åŒ–

```typescript
// ä½¿ç”¨ç¼“å­˜é¿å…é‡å¤è¯»å–
class FileCache {
  private cache = new Map<string, { content: string; mtime: number }>();
  
  async readFile(path: string): Promise<string> {
    const stat = await fs.stat(path);
    const cached = this.cache.get(path);
    
    // å¦‚æœæ–‡ä»¶æœªä¿®æ”¹ï¼Œè¿”å›ç¼“å­˜
    if (cached && cached.mtime === stat.mtimeMs) {
      return cached.content;
    }
    
    // è¯»å–æ–‡ä»¶å¹¶æ›´æ–°ç¼“å­˜
    const content = await fs.readFile(path, 'utf-8');
    this.cache.set(path, { content, mtime: stat.mtimeMs });
    return content;
  }
  
  invalidate(path: string) {
    this.cache.delete(path);
  }
}
```

### 9.2 ç´¢å¼•æ›´æ–°ä¼˜åŒ–

```typescript
// å¢é‡æ›´æ–°ï¼Œé¿å…å…¨é‡é‡å»º
class IncrementalIndexer {
  private queue: Set<string> = new Set();
  private processing = false;
  
  // æ‰¹é‡å¤„ç†æ–‡ä»¶å˜åŒ–
  async enqueue(filePath: string) {
    this.queue.add(filePath);
    
    if (!this.processing) {
      this.processing = true;
      // å»¶è¿Ÿ 1 ç§’ï¼Œæ‰¹é‡å¤„ç†
      await new Promise(resolve => setTimeout(resolve, 1000));
      await this.processBatch();
      this.processing = false;
    }
  }
  
  private async processBatch() {
    const files = Array.from(this.queue);
    this.queue.clear();
    
    console.log(`Processing ${files.length} files...`);
    
    for (const file of files) {
      await this.updateIndex(file);
    }
  }
}
```

### 9.3 UI æ¸²æŸ“ä¼˜åŒ–

```typescript
// è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§åˆ—è¡¨ï¼‰
import { useVirtualizer } from '@tanstack/react-virtual';

function FileList({ files }: { files: FileInfo[] }) {
  const parentRef = useRef<HTMLDivElement>(null);
  
  const virtualizer = useVirtualizer({
    count: files.length,
    getScrollElement: () => parentRef.current,
    estimateSize: () => 50,
    overscan: 5
  });
  
  return (
    <div ref={parentRef} style={{ height: '600px', overflow: 'auto' }}>
      <div style={{ height: virtualizer.getTotalSize() }}>
        {virtualizer.getVirtualItems().map(item => (
          <div
            key={item.key}
            style={{
              position: 'absolute',
              top: 0,
              left: 0,
              width: '100%',
              height: item.size,
              transform: `translateY(${item.start}px)`
            }}
          >
            <FileItem file={files[item.index]} />
          </div>
        ))}
      </div>
    </div>
  );
}
```

---

## åã€æµ‹è¯•ç­–ç•¥

### 10.1 å•å…ƒæµ‹è¯•

```typescript
// ä½¿ç”¨ Vitest
import { describe, it, expect, beforeEach } from 'vitest';
import { FileSystemAdapter } from './FileSystemAdapter';

describe('FileSystemAdapter', () => {
  let adapter: FileSystemAdapter;
  
  beforeEach(() => {
    adapter = new FileSystemAdapter('/test/workspace');
  });
  
  it('should read file correctly', async () => {
    const content = await adapter.readFile('00_Core/profile.md');
    expect(content).toContain('# ä¸ªäººæ¡£æ¡ˆ');
  });
  
  it('should parse front matter', async () => {
    const { data, content } = await adapter.parseFrontMatter('test.md');
    expect(data.title).toBe('Test');
    expect(content).toBeTruthy();
  });
});
```

### 10.2 é›†æˆæµ‹è¯•

```typescript
// æµ‹è¯• AI ç¼–æ’æµç¨‹
describe('AIOrchestrator', () => {
  it('should generate weekly review', async () => {
    const orchestrator = new AIOrchestrator();
    
    // Mock Claude API
    mockClaudeAPI({
      response: '# å‘¨æŠ¥\n\næœ¬å‘¨å®Œæˆ...'
    });
    
    await orchestrator.runWeeklyReview();
    
    // éªŒè¯æ–‡ä»¶å·²åˆ›å»º
    const weeklyReview = await fs.readFile(
      '01_Shared/Calendar/Reviews/Weekly/2026-W05.md'
    );
    expect(weeklyReview).toContain('# å‘¨æŠ¥');
  });
});
```

### 10.3 E2E æµ‹è¯•

```typescript
// ä½¿ç”¨ Playwright
import { test, expect } from '@playwright/test';

test('user can create a new note', async ({ page }) => {
  await page.goto('http://localhost:3000');
  
  // ç‚¹å‡»æ–°å»ºç¬”è®°
  await page.click('[data-testid="new-note"]');
  
  // è¾“å…¥æ ‡é¢˜
  await page.fill('[data-testid="note-title"]', 'Test Note');
  
  // è¾“å…¥å†…å®¹
  await page.fill('[data-testid="note-content"]', 'This is a test');
  
  // ä¿å­˜
  await page.click('[data-testid="save-note"]');
  
  // éªŒè¯æ–‡ä»¶å·²åˆ›å»º
  const files = await page.evaluate(() => {
    return window.electronAPI.listFiles('01_Shared/Atlas/Dots');
  });
  
  expect(files).toContain('Test Note.md');
});
```

---

## åä¸€ã€éƒ¨ç½²ä¸å‘å¸ƒ

### 11.1 æ„å»ºæµç¨‹

```yaml
# .github/workflows/build.yml
name: Build and Release

on:
  push:
    tags:
      - 'v*'

jobs:
  build:
    strategy:
      matrix:
        os: [macos-latest, windows-latest, ubuntu-latest]
    
    runs-on: ${{ matrix.os }}
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'
      
      - name: Setup Rust
        uses: actions-rs/toolchain@v1
        with:
          toolchain: stable
      
      - name: Install dependencies
        run: npm ci
      
      - name: Run tests
        run: npm test
      
      - name: Build application
        run: npm run tauri build
      
      - name: Upload artifacts
        uses: actions/upload-artifact@v3
        with:
          name: PersonalOS-${{ matrix.os }}
          path: src-tauri/target/release/bundle/
```

### 11.2 è‡ªåŠ¨æ›´æ–°

```typescript
// ä½¿ç”¨ Tauri çš„è‡ªåŠ¨æ›´æ–°åŠŸèƒ½
import { checkUpdate, installUpdate } from '@tauri-apps/api/updater';
import { relaunch } from '@tauri-apps/api/process';

async function checkForUpdates() {
  try {
    const { shouldUpdate, manifest } = await checkUpdate();
    
    if (shouldUpdate) {
      const confirmed = await confirm(
        `å‘ç°æ–°ç‰ˆæœ¬ ${manifest?.version}ï¼Œæ˜¯å¦æ›´æ–°ï¼Ÿ\n\n${manifest?.body}`
      );
      
      if (confirmed) {
        await installUpdate();
        await relaunch();
      }
    }
  } catch (error) {
    console.error('Update check failed:', error);
  }
}

// å¯åŠ¨æ—¶æ£€æŸ¥æ›´æ–°
window.addEventListener('DOMContentLoaded', () => {
  setTimeout(checkForUpdates, 3000);
});
```

---

## åäºŒã€æ–‡æ¡£ä¸æ”¯æŒ

### 12.1 ç”¨æˆ·æ–‡æ¡£

```
docs/
â”œâ”€â”€ getting-started.md       # å¿«é€Ÿå¼€å§‹
â”œâ”€â”€ user-guide/              # ç”¨æˆ·æŒ‡å—
â”‚   â”œâ”€â”€ installation.md      # å®‰è£…è¯´æ˜
â”‚   â”œâ”€â”€ configuration.md     # é…ç½®æŒ‡å—
â”‚   â”œâ”€â”€ ai-setup.md          # AI é…ç½®
â”‚   â””â”€â”€ troubleshooting.md   # æ•…éšœæ’é™¤
â”œâ”€â”€ tutorials/               # æ•™ç¨‹
â”‚   â”œâ”€â”€ first-week.md        # ç¬¬ä¸€å‘¨ä½¿ç”¨
â”‚   â”œâ”€â”€ weekly-review.md     # å‘¨å¤ç›˜æ•™ç¨‹
â”‚   â””â”€â”€ knowledge-graph.md   # çŸ¥è¯†å›¾è°±æ•™ç¨‹
â””â”€â”€ api/                     # API æ–‡æ¡£ï¼ˆæ’ä»¶å¼€å‘ï¼‰
    â”œâ”€â”€ plugin-api.md
    â””â”€â”€ examples/
```

### 12.2 å¼€å‘è€…æ–‡æ¡£

```
docs/development/
â”œâ”€â”€ architecture.md          # æ¶æ„è®¾è®¡
â”œâ”€â”€ contributing.md          # è´¡çŒ®æŒ‡å—
â”œâ”€â”€ plugin-development.md    # æ’ä»¶å¼€å‘
â””â”€â”€ api-reference.md         # API å‚è€ƒ
```

---

## åä¸‰ã€æ€»ç»“

### 13.1 æ ¸å¿ƒä»·å€¼

PersonalOS åº”ç”¨å±‚çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š

1. **è‡ªåŠ¨åŒ–** - å°†æ‰‹åŠ¨çš„ AI äº¤äº’è‡ªåŠ¨åŒ–
2. **å¯è§†åŒ–** - å°†æ–‡ä»¶æ•°æ®å¯è§†åŒ–ä¸ºä»ªè¡¨ç›˜
3. **æ™ºèƒ½åŒ–** - æä¾›æ™ºèƒ½æ´å¯Ÿå’Œå»ºè®®
4. **å¢å¼º** - å¢å¼ºæ–‡ä»¶ç³»ç»Ÿï¼Œè€Œä¸æ˜¯æ›¿ä»£

### 13.2 è®¾è®¡å“²å­¦

```
æ•°æ®ä¸»æƒ > ç”¨æˆ·ä½“éªŒ > åŠŸèƒ½ä¸°å¯Œåº¦

- ç”¨æˆ·æ•°æ®æ°¸è¿œåœ¨æœ¬åœ°
- åº”ç”¨å¯ä»¥å¸è½½ï¼Œæ•°æ®ä¸å—å½±å“
- å¼€æ”¾ã€é€æ˜ã€å¯å®¡è®¡
- ä¸ç»‘æ¶ç”¨æˆ·
```

### 13.3 ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **æŠ€æœ¯éªŒè¯**
   - æ­å»º Tauri + React åŸºç¡€æ¡†æ¶
   - å®ç°æ–‡ä»¶ç³»ç»Ÿè¯»å†™
   - æµ‹è¯• Claude API é›†æˆ

2. **MVP å¼€å‘**
   - å®ç° AI ç¼–æ’æœåŠ¡
   - å®ç°åŸºç¡€ä»ªè¡¨ç›˜
   - å®ç°é…ç½®ç®¡ç†ç•Œé¢

3. **ç”¨æˆ·æµ‹è¯•**
   - é‚€è¯·æ—©æœŸç”¨æˆ·æµ‹è¯•
   - æ”¶é›†åé¦ˆ
   - è¿­ä»£ä¼˜åŒ–

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2026-02-04  
**ç»´æŠ¤è€…**ï¼šPersonalOS é¡¹ç›®ç»„

