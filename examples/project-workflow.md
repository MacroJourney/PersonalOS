# 项目工作流示例

本文档展示如何在 PersonalOS 中管理项目的完整生命周期，从启动到收尾沉淀。

## 工作流概览

```
项目启动 → 规划 → 执行 → 监控 → 复盘 → 收尾沉淀
   ↓         ↓      ↓      ↓       ↓         ↓
 创建笔记  定义目标 每日推进 周检查  提取经验   移动到 Sleeping
```

---

## 阶段 0：Inbox 分流（建议-确认-报告）

在正式启动项目前，先处理 `01_Shared/+/` 的临时条目。

### 0.1 对话示例

```text
你：清理 Inbox。

AI：我会按「触发 → 扫描 → 分类建议 → 待确认清单 → 分流报告」执行，仅提供建议，不自动移动或删除。

建议分流：
1. `个人网站新版结构草图.md` → `Efforts/Projects/Simmering/`
2. `Next.js SEO 清单摘录.md` → `Atlas/Dots/Statements/`
3. `今天和设计师的沟通记录.md` → `Calendar/Days/`

待确认清单：
1. `品牌语调灵感合集.md`
   - 候选 A：`Atlas/Sources/Clippings/`
   - 候选 B：`Efforts/Projects/Simmering/`
   - 原因：同时包含项目想法和素材摘录
2. `重复草稿.md`
   - 建议：删除（需二次确认）

标准版分流报告：
- 总数：5
- 建议分流数：3
- 待确认数：2
- 规则命中：`inbox-triage-basic`、`source-vs-project`
- 失败/不确定原因：混合内容，语义冲突
- 下一步建议：请先确认 2 条待确认项，再执行移动
```

---

## 阶段 1：项目启动

### 1.1 创建项目笔记

**位置**：`01_Shared/Efforts/Projects/`

**文件名**：`项目名称.md`（如：`个人网站重构.md`）

**使用模板**：`01_Shared/x/Templates/Project.md`

### 1.2 填写项目基本信息

```markdown
# 个人网站重构

## 元数据
- **状态**：🟢 进行中
- **优先级**：高
- **开始日期**：2026-02-01
- **目标完成日期**：2026-03-15
- **所属领域**：[[个人品牌]]
- **标签**：#project/tech #status/active

## 项目概述

### 目标
重构个人网站，提升加载速度和 SEO 表现，增加博客功能。

### 背景
当前网站使用老旧技术栈，加载速度慢，不利于 SEO，且缺少内容管理系统。

### 成功标准
- [ ] 首屏加载时间 < 2 秒
- [ ] Google PageSpeed 分数 > 90
- [ ] 集成 Markdown 博客系统
- [ ] 部署到 Vercel 并配置 CI/CD

### 范围
**包含**：
- 前端重构（Next.js）
- 博客系统集成
- SEO 优化
- 部署自动化

**不包含**：
- 后端 API 开发
- 用户系统
- 评论功能

## 项目计划

### 里程碑
1. **技术选型完成**（2026-02-05）
2. **基础框架搭建**（2026-02-12）
3. **博客功能开发**（2026-02-26）
4. **测试和优化**（2026-03-10）
5. **正式上线**（2026-03-15）

### 任务清单
- [ ] 技术栈调研（Next.js vs Astro）
- [ ] 设计系统选择（Tailwind CSS）
- [ ] 项目初始化
- [ ] 首页开发
- [ ] 博客列表页开发
- [ ] 博客详情页开发
- [ ] Markdown 渲染配置
- [ ] SEO 优化
- [ ] 性能优化
- [ ] 部署配置

## 资源

### 参考资料
- [[Next.js 最佳实践]]
- [[SEO 优化清单]]
- [[Vercel 部署指南]]

### 工具
- Next.js 14
- Tailwind CSS
- MDX
- Vercel

### 预算
- 域名：$15/年
- Vercel Pro：$20/月（可选）

## 决策日志

### 2026-02-01：技术栈选择
**决策**：使用 Next.js 14 + Tailwind CSS
**原因**：
- Next.js 生态成熟，社区活跃
- App Router 提供更好的性能
- Tailwind CSS 开发效率高
- 已有使用经验，学习成本低

**替代方案**：Astro
**为何不选**：虽然性能更好，但生态较小，学习成本高

---

### 2026-02-08：博客内容管理方案
**决策**：使用 MDX + 本地文件
**原因**：
- 简单直接，无需数据库
- 版本控制友好
- 可以使用 Obsidian 编写
- 支持 React 组件嵌入

**替代方案**：Contentful / Sanity
**为何不选**：增加复杂度，且有成本

## 进展记录

### 第 1 周（2026-02-01 - 2026-02-07）
**完成**：
- ✅ 技术栈调研
- ✅ 项目初始化
- ✅ 基础路由配置

**问题**：
- Next.js 14 App Router 文档不够完善，花了额外时间学习

**下周计划**：
- 完成首页开发
- 搭建博客基础结构

### 第 2 周（2026-02-08 - 2026-02-14）
**完成**：
- ✅ 首页开发
- ✅ 博客列表页开发
- ⏳ 博客详情页开发（进行中）

**问题**：
- MDX 配置比预期复杂，需要额外插件

**下周计划**：
- 完成博客详情页
- 实现 Markdown 渲染
- 添加代码高亮

## 相关笔记
- [[个人品牌建设]]
- [[Web 开发技能树]]
- [[内容创作流程]]

## 复盘（项目完成后填写）

### 成果
- 

### 经验教训
- 

### 可复用资产
- 

### 后续行动
- 
```

---

## 阶段 2：项目规划

### 2.1 与 AI 协作制定计划

**对话示例**：

```
你：我想重构个人网站，目标是提升性能和 SEO，增加博客功能。
    请帮我制定项目计划。

AI：好的，让我先确认几个问题：

1. 当前网站使用什么技术栈？
2. 你对新技术栈有偏好吗？（如 Next.js、Astro、Hugo）
3. 预计投入多少时间？（每周几小时）
4. 有预算限制吗？
5. 是否需要保留现有内容？

你：1. 当前是纯 HTML + CSS，没有框架
    2. 倾向 Next.js，因为我熟悉 React
    3. 每周 10 小时左右
    4. 尽量控制成本，域名和托管费用可以接受
    5. 需要保留，但内容不多

AI：明白了。基于你的情况，我建议：

**技术栈**：
- Next.js 14（App Router）
- Tailwind CSS
- MDX（博客内容）
- Vercel（免费托管）

**时间规划**（6 周，每周 10 小时）：
- 第 1 周：技术选型和项目初始化（10h）
- 第 2-3 周：核心页面开发（20h）
- 第 4 周：博客功能开发（10h）
- 第 5 周：SEO 和性能优化（10h）
- 第 6 周：测试和部署（10h）

**里程碑**：
1. 基础框架搭建（第 1 周末）
2. 首页和关于页完成（第 3 周末）
3. 博客系统可用（第 4 周末）
4. 正式上线（第 6 周末）

我已经为你创建了项目笔记草稿，是否需要调整？
```

### 2.2 分解任务

将大任务分解为可执行的小任务：

```markdown
## 任务分解

### 1. 技术选型完成（2026-02-05）
- [ ] 调研 Next.js 14 新特性（2h）
- [ ] 对比 Tailwind CSS vs CSS Modules（1h）
- [ ] 选择 Markdown 处理方案（1h）
- [ ] 确定部署平台（0.5h）

### 2. 基础框架搭建（2026-02-12）
- [ ] 初始化 Next.js 项目（0.5h）
- [ ] 配置 Tailwind CSS（1h）
- [ ] 设置 ESLint 和 Prettier（0.5h）
- [ ] 配置路由结构（1h）
- [ ] 创建布局组件（2h）
- [ ] 配置字体和主题（1h）

### 3. 博客功能开发（2026-02-26）
- [ ] 配置 MDX（2h）
- [ ] 实现文章列表（3h）
- [ ] 实现文章详情页（3h）
- [ ] 添加代码高亮（1h）
- [ ] 添加目录导航（1h）
```

---

## 阶段 3：项目执行

### 3.1 每日工作流

**早上**（5 分钟）：
1. 打开项目笔记
2. 查看今日计划任务
3. 在 `Calendar/Days/YYYY-MM-DD.md` 中记录今日目标

**工作中**：
1. 专注执行任务
2. 遇到问题记录在每日笔记中
3. 重要决策记录在项目笔记的"决策日志"

**晚上**（5 分钟）：
1. 更新项目笔记中的任务状态
2. 在每日笔记中记录完成情况
3. 规划明日任务

### 3.2 每日笔记示例

**文件**：`01_Shared/Calendar/Days/2026-02-10.md`

```markdown
# 2026-02-10 周一

## 今日目标
- [ ] 完成首页 Hero 区域开发
- [ ] 实现响应式布局
- [ ] 配置图片优化

## 项目：个人网站重构

### 完成
- ✅ Hero 区域基础结构
- ✅ 响应式布局（桌面端和移动端）
- ⏳ 图片优化（进行中，遇到问题）

### 问题
- Next.js Image 组件在本地开发时加载慢
- 需要配置 `next.config.js` 的 `images.domains`

### 解决方案
- 查阅官方文档，添加了 `remotePatterns` 配置
- 使用 `priority` 属性优化首屏图片加载

### 学到的
- Next.js Image 组件的最佳实践
- 响应式图片的 `sizes` 属性用法

### 明日计划
- [ ] 完成关于页面开发
- [ ] 添加页面过渡动画
- [ ] 开始博客列表页开发

## 其他
- 

## 复盘
今天效率不错，Hero 区域比预期快完成。图片优化花了点时间，
但学到了 Next.js Image 的正确用法，以后会更快。
```

### 3.3 与 AI 协作解决问题

**对话示例**：

```
你：我在配置 Next.js Image 组件时遇到问题，本地开发加载很慢。

AI：这是常见问题。请检查：

1. 是否使用了外部图片？如果是，需要在 `next.config.js` 中配置：

```js
module.exports = {
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'example.com',
      },
    ],
  },
}
```

2. 是否使用了 `priority` 属性？首屏图片应该添加：

```jsx
<Image src="..." alt="..." priority />
```

3. 本地开发时，Next.js 会实时优化图片，首次加载会慢。
   生产环境会好很多。

你遇到的是哪种情况？

你：是外部图片的问题，我添加了 remotePatterns 配置，解决了！

AI：很好！建议将这个解决方案记录到你的技能库：

**位置**：`01_Shared/Atlas/Dots/Next.js Image 优化.md`

**内容**：
- 问题描述
- 解决方案
- 配置示例
- 相关文档链接

这样以后遇到类似问题可以快速查找。要我帮你创建这个笔记吗？
```

---

## 阶段 4：项目监控

### 4.1 每周检查

**时间**：每周日晚上，30 分钟

**检查清单**：
- [ ] 本周目标完成情况
- [ ] 里程碑进度是否符合预期
- [ ] 是否有阻塞问题
- [ ] 下周计划是否需要调整
- [ ] 预算和时间是否超支

**记录位置**：项目笔记的"进展记录"部分

### 4.2 风险识别

在项目笔记中添加"风险管理"部分：

```markdown
## 风险管理

### 当前风险
1. **技术风险**：Next.js 14 App Router 较新，可能遇到未知问题
   - **影响**：中
   - **概率**：中
   - **缓解措施**：提前调研，准备降级到 Pages Router

2. **时间风险**：每周 10 小时可能不够
   - **影响**：高
   - **概率**：中
   - **缓解措施**：优先核心功能，次要功能可延后

3. **范围蔓延**：可能想添加更多功能
   - **影响**：高
   - **概率**：高
   - **缓解措施**：严格遵守范围定义，新功能记录到"未来改进"

### 已解决风险
- ~~MDX 配置复杂~~（已通过查阅文档解决）
```

---

## 阶段 5：项目复盘

### 5.1 复盘时机

**项目完成后**，安排 1-2 小时进行全面复盘。

### 5.2 复盘框架

在项目笔记的"复盘"部分填写：

```markdown
## 复盘

### 成果
**目标达成情况**：
- ✅ 首屏加载时间：1.8 秒（目标 < 2 秒）
- ✅ PageSpeed 分数：92（目标 > 90）
- ✅ 博客系统已集成
- ✅ 已部署到 Vercel 并配置 CI/CD

**额外收获**：
- 学会了 Next.js 14 App Router
- 掌握了 MDX 配置
- 建立了个人网站开发模板

### 时间和预算
- **计划时间**：60 小时（6 周 × 10 小时）
- **实际时间**：68 小时
- **超支原因**：MDX 配置和 SEO 优化花费额外时间
- **预算**：$15（域名），符合预期

### 经验教训

**做得好的**：
1. 技术选型准确，Next.js 14 表现优秀
2. 任务分解合理，每周目标清晰
3. 及时记录问题和解决方案，避免重复踩坑

**可以改进的**：
1. 应该更早开始 SEO 优化，而非最后集中处理
2. MDX 配置应该提前调研，避免中途调整
3. 测试时间预留不足，应该增加 1 周

**意外发现**：
- Vercel 的 Analytics 功能很好用，可以免费监控性能
- MDX 可以嵌入 React 组件，未来可以做交互式文章

### 可复用资产

**模板**：
- `x/Templates/Next.js 项目初始化.md`
- `x/Templates/博客文章.md`

**技能**：
- `Atlas/Dots/Next.js 14 App Router.md`
- `Atlas/Dots/MDX 配置指南.md`
- `Atlas/Dots/Vercel 部署最佳实践.md`

**规则**：
- `x/rules/Web 项目技术选型清单.md`
- `x/rules/SEO 优化检查清单.md`

**MOC**：
- 更新 `Atlas/Maps/Web 开发.md`，添加本项目相关笔记

### 后续行动
- [ ] 将项目笔记移动到 `Efforts/Projects/Sleeping/`
- [ ] 提取的模板和技能已创建
- [ ] 在 `Atlas/Maps/个人品牌.md` 中链接本项目
- [ ] 规划下一个项目：博客内容创作计划
```

### 5.3 与 AI 协作复盘

**对话示例**：

```
你：项目完成了，帮我做个复盘。

AI：恭喜完成项目！让我们一起复盘。

首先，让我看看你的项目笔记...

**目标达成情况**：
- ✅ 所有成功标准都达成了
- ⏱️ 时间超支 8 小时（13%），在可接受范围内
- 💰 预算符合预期

**亮点**：
1. 技术选型很成功，Next.js 14 表现优秀
2. 任务分解合理，执行顺利
3. 及时记录问题，避免重复踩坑

**改进建议**：
1. SEO 优化应该更早开始，建议在开发初期就集成
2. 测试时间预留不足，下次项目应该增加 20% 缓冲时间
3. MDX 配置可以提前调研，避免中途调整

**可复用资产**：
我注意到你在项目中积累了很多经验，建议提取：
- Next.js 项目初始化模板
- MDX 配置指南
- SEO 优化检查清单
- Vercel 部署最佳实践

要我帮你创建这些资产吗？

你：好的，帮我创建这些资产。

AI：好的，我会创建以下文件：

1. `x/Templates/Next.js 项目初始化.md`
2. `Atlas/Dots/MDX 配置指南.md`
3. `x/rules/SEO 优化检查清单.md`
4. `Atlas/Dots/Vercel 部署最佳实践.md`

同时，我会更新 `Atlas/Maps/Web 开发.md`，将这些新笔记链接进去。

[创建文件...]

完成！这些资产已经创建，下次做类似项目时可以直接使用。

另外，建议将本项目笔记移动到 `Efforts/Projects/Sleeping/`，
并在 `Atlas/Maps/个人品牌.md` 中添加链接，方便未来查找。
```

---

## 阶段 6：项目收尾（进入 Sleeping）

### 6.1 收尾清单

- [ ] 完成项目复盘
- [ ] 提取可复用资产（模板、技能、规则）
- [ ] 更新相关 MOC
- [ ] 移动项目笔记到 `Sleeping/`
- [ ] 清理临时文件和草稿

### 6.2 收尾位置

```
01_Shared/Efforts/Projects/Sleeping/
└── 个人网站重构.md
```

### 6.3 在 MOC 中保留链接

虽然项目已进入 Sleeping，但在相关 MOC 中保留链接：

**文件**：`01_Shared/Atlas/Maps/个人品牌.md`

```markdown
# 个人品牌

## 相关项目
- [[个人网站重构]]（已完成，2026-03-15）
- [[内容创作计划]]（进行中）

## 相关技能
- [[Next.js 14 App Router]]
- [[SEO 优化]]
- [[内容营销]]
```

---

## 多项目管理

### 项目仪表板

创建 `01_Shared/Efforts/Projects/项目仪表板.md`：

```markdown
# 项目仪表板

## 进行中（3）
- 🟢 [[个人网站重构]] - 第 4 周，进度 60%
- 🟡 [[播客节目策划]] - 第 2 周，进度 30%
- 🔴 [[在线课程开发]] - 第 1 周，进度 10%（有风险）

## 计划中（2）
- [[个人品牌视觉设计]]（预计 2026-04-01 启动）
- [[Newsletter 系统搭建]]（预计 2026-05-01 启动）

## 已完成（5）
- ✅ [[个人网站重构]]（2026-03-15）
- ✅ [[知识管理系统搭建]]（2026-02-01）
- ...

## 本周关注
1. **个人网站重构**：本周完成博客功能开发
2. **播客节目策划**：确定前 3 期主题
3. **在线课程开发**：解决录制设备问题（阻塞中）

## 资源分配
- 个人网站重构：40%
- 播客节目策划：30%
- 在线课程开发：20%
- 其他：10%
```

---

## 相关资源

- `templates/00_Core/` - 核心配置模板
- `docs/02_30天成长计划.md` - 30 天入门计划
- `docs/04_AI配置完整版.md` - AI 协作配置
- `examples/review-templates.md` - 复盘模板示例
